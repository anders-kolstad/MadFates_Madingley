<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Exploring spatial inputs | Running the Madingley Model with Norwegian data</title>
  <meta name="description" content="Chapter 6 Exploring spatial inputs | Running the Madingley Model with Norwegian data" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Exploring spatial inputs | Running the Madingley Model with Norwegian data" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Exploring spatial inputs | Running the Madingley Model with Norwegian data" />
  
  
  

<meta name="author" content="Anders L. Kolstad" />


<meta name="date" content="2022-08-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="norway---default-settings.html"/>
<link rel="next" href="trophic-pyramids.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.20/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/dt-ext-fixedcolumns-1.11.3/css/fixedColumns.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-fixedcolumns-1.11.3/js/dataTables.fixedColumns.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#some-useful-links"><i class="fa fa-check"></i><b>1.1</b> Some useful links</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#examples-of-use"><i class="fa fa-check"></i><b>1.1.1</b> Examples of use</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#terms-and-definitions"><i class="fa fa-check"></i><b>1.2</b> Terms and definitions</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a></li>
<li class="chapter" data-level="3" data-path="step-1---3.html"><a href="step-1---3.html"><i class="fa fa-check"></i><b>3</b> Step 1 - 3</a>
<ul>
<li class="chapter" data-level="3.1" data-path="step-1---3.html"><a href="step-1---3.html#step-1---load-data"><i class="fa fa-check"></i><b>3.1</b> Step 1 - Load data</a></li>
<li class="chapter" data-level="3.2" data-path="step-1---3.html"><a href="step-1---3.html#step-2---modify-input-parameters"><i class="fa fa-check"></i><b>3.2</b> Step 2 - Modify input parameters</a></li>
<li class="chapter" data-level="3.3" data-path="step-1---3.html"><a href="step-1---3.html#step-3---initialisation"><i class="fa fa-check"></i><b>3.3</b> Step 3 - Initialisation</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="step-4---spin-up-and-demonstrating-plotting-functions.html"><a href="step-4---spin-up-and-demonstrating-plotting-functions.html"><i class="fa fa-check"></i><b>4</b> Step 4 - Spin-up and demonstrating plotting functions</a></li>
<li class="chapter" data-level="5" data-path="norway---default-settings.html"><a href="norway---default-settings.html"><i class="fa fa-check"></i><b>5</b> Norway - default settings</a>
<ul>
<li class="chapter" data-level="5.1" data-path="norway---default-settings.html"><a href="norway---default-settings.html#grid-cells"><i class="fa fa-check"></i><b>5.1</b> 16 grid cells</a></li>
<li class="chapter" data-level="5.2" data-path="norway---default-settings.html"><a href="norway---default-settings.html#single-grid-cell"><i class="fa fa-check"></i><b>5.2</b> Single grid cell</a></li>
<li class="chapter" data-level="5.3" data-path="norway---default-settings.html"><a href="norway---default-settings.html#biomass-densities-rather-than-total-biomass"><i class="fa fa-check"></i><b>5.3</b> Biomass densities rather than total biomass</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="exploring-spatial-inputs.html"><a href="exploring-spatial-inputs.html"><i class="fa fa-check"></i><b>6</b> Exploring spatial inputs</a>
<ul>
<li class="chapter" data-level="6.1" data-path="exploring-spatial-inputs.html"><a href="exploring-spatial-inputs.html#climate-data"><i class="fa fa-check"></i><b>6.1</b> Climate data</a></li>
<li class="chapter" data-level="6.2" data-path="exploring-spatial-inputs.html"><a href="exploring-spatial-inputs.html#other-spatial-inputs"><i class="fa fa-check"></i><b>6.2</b> Other spatial inputs</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="trophic-pyramids.html"><a href="trophic-pyramids.html"><i class="fa fa-check"></i><b>7</b> Trophic pyramids</a>
<ul>
<li class="chapter" data-level="7.1" data-path="trophic-pyramids.html"><a href="trophic-pyramids.html#fixing-a-bug-inthe-r-package"><i class="fa fa-check"></i><b>7.1</b> Fixing a bug inthe R package</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Running the Madingley Model with Norwegian data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exploring-spatial-inputs" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Exploring spatial inputs</h1>
<p>This page was last updated <code>2022-08-10 14:56:41</code></p>
<p>On this page I am exploring the spatial inputs to see if they make sense for Norway.</p>
<div id="climate-data" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Climate data</h2>
<p>There are five climate data inputs:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="exploring-spatial-inputs.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">names</span>(sptl_inp[<span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>)]), <span class="at">sep=</span><span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>% available_water_capacity
% near-surface_temperature
% precipitation
% ground_frost_frequency
% diurnal_temperature_range</code></pre>
<p>They are on a monthly resolution. I’m not sure about what time period the default rasters represents, but these layers can easily be changes, or modified, to either simulate climate change or to model ecosystem structure under a different past climate to use as a reference point in say ecological condition assessments.</p>
<p>Lets explore the seasonal variation in some of these datasets.</p>
<h3>
Available water capacity
</h3>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="exploring-spatial-inputs.html#cb95-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> sptl_inp<span class="sc">$</span>available_water_capacity</span>
<span id="cb95-2"><a href="exploring-spatial-inputs.html#cb95-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-3"><a href="exploring-spatial-inputs.html#cb95-3" aria-hidden="true" tabindex="-1"></a>box <span class="ot">&lt;-</span> <span class="fu">bb</span>( <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">10</span>,<span class="dv">30</span>),</span>
<span id="cb95-4"><a href="exploring-spatial-inputs.html#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">50</span>,<span class="dv">70</span>))</span>
<span id="cb95-5"><a href="exploring-spatial-inputs.html#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(temp, <span class="at">bbox =</span> box)<span class="sc">+</span></span>
<span id="cb95-6"><a href="exploring-spatial-inputs.html#cb95-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>()    <span class="co">#seq(-30,30,10))</span></span></code></pre></div>
<p><img src="05-Norway_spatialInputs_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="exploring-spatial-inputs.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(temp)</span></code></pre></div>
<p>This looks a bit un-nuanced. Let’s first see this pattern in a continental context. Note: there’s only one band here (annual means I think).</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="exploring-spatial-inputs.html#cb97-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> sptl_inp<span class="sc">$</span>available_water_capacity</span>
<span id="cb97-2"><a href="exploring-spatial-inputs.html#cb97-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-3"><a href="exploring-spatial-inputs.html#cb97-3" aria-hidden="true" tabindex="-1"></a>box2 <span class="ot">&lt;-</span> <span class="fu">bb</span>( <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">30</span>,<span class="dv">80</span>),</span>
<span id="cb97-4"><a href="exploring-spatial-inputs.html#cb97-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">70</span>))</span>
<span id="cb97-5"><a href="exploring-spatial-inputs.html#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(temp, <span class="at">bbox =</span> box2)<span class="sc">+</span></span>
<span id="cb97-6"><a href="exploring-spatial-inputs.html#cb97-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>()    <span class="co">#seq(-30,30,10))</span></span></code></pre></div>
<p><img src="05-Norway_spatialInputs_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="exploring-spatial-inputs.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(temp)</span></code></pre></div>
<p>The major expected patterns are visible, but Norway non-the-less have values that are comparable to southern Greece. What does this environmental variable actually represent?</p>
<h3>
Temperature
</h3>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="exploring-spatial-inputs.html#cb99-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> sptl_inp<span class="sc">$</span><span class="st">`</span><span class="at">near-surface_temperature</span><span class="st">`</span></span>
<span id="cb99-2"><a href="exploring-spatial-inputs.html#cb99-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-3"><a href="exploring-spatial-inputs.html#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="co">#box &lt;- bb( xlim = c(-10,20),</span></span>
<span id="cb99-4"><a href="exploring-spatial-inputs.html#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="co">#  ylim = c(55,65))</span></span>
<span id="cb99-5"><a href="exploring-spatial-inputs.html#cb99-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-6"><a href="exploring-spatial-inputs.html#cb99-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(temp[[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">6</span>)]], <span class="at">bbox =</span> box)<span class="sc">+</span></span>
<span id="cb99-7"><a href="exploring-spatial-inputs.html#cb99-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;fixed&quot;</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">30</span>,<span class="sc">-</span><span class="dv">10</span>,<span class="dv">0</span>,<span class="dv">10</span>, <span class="dv">30</span>))    <span class="co">#seq(-30,30,10))</span></span></code></pre></div>
<p><img src="05-Norway_spatialInputs_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Minusgrader i Januar (øverst) og varmegrader i juni (nederst).</p>
<h3>
Precipitation
</h3>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="exploring-spatial-inputs.html#cb100-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> sptl_inp<span class="sc">$</span>precipitation</span>
<span id="cb100-2"><a href="exploring-spatial-inputs.html#cb100-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-3"><a href="exploring-spatial-inputs.html#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="co">#box &lt;- bb( xlim = c(-10,20),</span></span>
<span id="cb100-4"><a href="exploring-spatial-inputs.html#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co">#  ylim = c(55,65))</span></span>
<span id="cb100-5"><a href="exploring-spatial-inputs.html#cb100-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-6"><a href="exploring-spatial-inputs.html#cb100-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(temp[[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">6</span>, <span class="dv">9</span>)]], <span class="at">bbox =</span> box)<span class="sc">+</span></span>
<span id="cb100-7"><a href="exploring-spatial-inputs.html#cb100-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;fixed&quot;</span>, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">600</span>,<span class="dv">100</span>))</span></code></pre></div>
<p><img src="05-Norway_spatialInputs_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>The W-E gradient is evident in the precipitation data.</p>
<h3>
Ground frost frequency
</h3>
<p>This is probably the number of ground frost days per month.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="exploring-spatial-inputs.html#cb101-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> sptl_inp<span class="sc">$</span>ground_frost_frequency</span>
<span id="cb101-2"><a href="exploring-spatial-inputs.html#cb101-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-3"><a href="exploring-spatial-inputs.html#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(temp[[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">6</span>, <span class="dv">9</span>)]], <span class="at">bbox =</span> box)<span class="sc">+</span></span>
<span id="cb101-4"><a href="exploring-spatial-inputs.html#cb101-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>()</span></code></pre></div>
<p><img src="05-Norway_spatialInputs_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<h3>
Diurnal temperature range
</h3>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="exploring-spatial-inputs.html#cb102-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> sptl_inp<span class="sc">$</span>diurnal_temperature_range</span>
<span id="cb102-2"><a href="exploring-spatial-inputs.html#cb102-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-3"><a href="exploring-spatial-inputs.html#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(temp[[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">6</span>, <span class="dv">9</span>)]], <span class="at">bbox =</span> box)<span class="sc">+</span></span>
<span id="cb102-4"><a href="exploring-spatial-inputs.html#cb102-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;fixed&quot;</span>, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">20</span>,<span class="dv">5</span>))</span></code></pre></div>
<p><img src="05-Norway_spatialInputs_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>This must be the difference between day and nighttime temperatures. There is a coast-inland gradient with oceanic climates being less variable on a diurnal scale.</p>
<h3>
WorldClim
</h3>
<p>I could get some more high resolution data from WorldClim for
- temperature tmean or BIO1
- precipitation BIO12 (also pmean?)
- mean diurnal range BIO2</p>
<p>Using 10 arcdegrees resolution (1/6 of a degree) and only the tile that covers the bulk of southern Norway</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="exploring-spatial-inputs.html#cb103-1" aria-hidden="true" tabindex="-1"></a>Norbioclim<span class="ot">&lt;-</span><span class="fu">getData</span>(<span class="st">&#39;worldclim&#39;</span>,<span class="at">var=</span><span class="st">&#39;tmean&#39;</span>,<span class="at">res=</span><span class="dv">10</span>) </span></code></pre></div>
<p>The above chunk failed unfortunately. See: <a href="https://github.com/rspatial/raster/issues/191" class="uri">https://github.com/rspatial/raster/issues/191</a></p>
</div>
<div id="other-spatial-inputs" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Other spatial inputs</h2>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="exploring-spatial-inputs.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">names</span>(sptl_inp[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>)]), <span class="at">sep=</span><span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>% realm_classification
% land_mask
% hanpp
% Ecto_max
% Endo_C_max
% Endo_H_max
% Endo_O_max
% terrestrial_net_primary_productivity</code></pre>
<p>Realm classification and the land mask are basically the same. They’re just a masks seperating terrestrial land from the marine environment. Realm classifications has three levels (sea, land, antarctica, whereas land_mask treats Antarctica as land. Only terrestrial ecosystems are supported in the R version of Madingley. The C++ version also include marine ecosystems.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="exploring-spatial-inputs.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(</span>
<span id="cb106-2"><a href="exploring-spatial-inputs.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>realm_classification)<span class="sc">+</span><span class="co">#, bbox = box)+</span></span>
<span id="cb106-3"><a href="exploring-spatial-inputs.html#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>(),    <span class="co">#seq(-30,30,10))</span></span>
<span id="cb106-4"><a href="exploring-spatial-inputs.html#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>land_mask)<span class="sc">+</span><span class="co">#, bbox = box)+</span></span>
<span id="cb106-5"><a href="exploring-spatial-inputs.html#cb106-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>())</span></code></pre></div>
<p><img src="05-Norway_spatialInputs_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<h3>
HANPP
</h3>
<p>Single band.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="exploring-spatial-inputs.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>hanpp, <span class="at">bbox =</span> box)<span class="sc">+</span></span>
<span id="cb107-2"><a href="exploring-spatial-inputs.html#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;fixed&quot;</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">500</span>,<span class="dv">0</span>,<span class="dv">100</span>,<span class="dv">200</span>,<span class="dv">300</span>,<span class="dv">400</span>,<span class="dv">500</span>))</span></code></pre></div>
<p><img src="05-Norway_spatialInputs_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>The human land use is very limited in Norway according to this data. It’s probably true. More detailed data could perhaps be found and used, such as AR5, but I’m not going into that now.</p>
<h3>
Max and min individual biomass
</h3>
<p>These maps shpw the maximum individual size (mass) for the different functional groups. First I show the whole world, and then I zoom in on Norway.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="exploring-spatial-inputs.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(</span>
<span id="cb108-2"><a href="exploring-spatial-inputs.html#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>Ecto_max)<span class="sc">+</span><span class="co">#, bbox = box)+</span></span>
<span id="cb108-3"><a href="exploring-spatial-inputs.html#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>(),    <span class="co">#seq(-30,30,10))</span></span>
<span id="cb108-4"><a href="exploring-spatial-inputs.html#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>Endo_C_max)<span class="sc">+</span><span class="co">#, bbox = box)+</span></span>
<span id="cb108-5"><a href="exploring-spatial-inputs.html#cb108-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>(),</span>
<span id="cb108-6"><a href="exploring-spatial-inputs.html#cb108-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>Endo_H_max)<span class="sc">+</span><span class="co">#, bbox = box)+</span></span>
<span id="cb108-7"><a href="exploring-spatial-inputs.html#cb108-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>(),    <span class="co">#seq(-30,30,10))</span></span>
<span id="cb108-8"><a href="exploring-spatial-inputs.html#cb108-8" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>Endo_O_max)<span class="sc">+</span><span class="co">#, bbox = box)+</span></span>
<span id="cb108-9"><a href="exploring-spatial-inputs.html#cb108-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>())</span></code></pre></div>
<p><img src="05-Norway_spatialInputs_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Ectothermic species are allowed (by the model) to get much bigger around the tropics (top). These are probably reptiles.</p>
<p>Endothermic Carnivores are allowed to get the biggest in the north.</p>
<p>Pure Herbivores are allowed to get biggest in Africa (savannahs). The units seem to be in minutes for some reason. The max allowed size for herbivores is</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="exploring-spatial-inputs.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">maxValue</span>(sptl_inp<span class="sc">$</span>Endo_H_max)<span class="sc">/</span><span class="dv">1000000</span></span></code></pre></div>
<pre><code>% [1] 3.940034</code></pre>
<p>tons.</p>
<p>Omnivores are allowed to get biggest further north than the pure herbivores. They can only grow to 190 kg.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="exploring-spatial-inputs.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">maxValue</span>(sptl_inp<span class="sc">$</span>Endo_O_max)<span class="sc">/</span><span class="dv">1000</span></span></code></pre></div>
<pre><code>% [1] 190.7923</code></pre>
<p>Then the same maps, but looking just at Norway</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="exploring-spatial-inputs.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(</span>
<span id="cb113-2"><a href="exploring-spatial-inputs.html#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>Ecto_max, <span class="at">bbox =</span> box)<span class="sc">+</span></span>
<span id="cb113-3"><a href="exploring-spatial-inputs.html#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;fixed&quot;</span>, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">10000</span>,<span class="dv">1000</span>)), </span>
<span id="cb113-4"><a href="exploring-spatial-inputs.html#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>Endo_C_max, <span class="at">bbox =</span> box)<span class="sc">+</span></span>
<span id="cb113-5"><a href="exploring-spatial-inputs.html#cb113-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;fixed&quot;</span>, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">50000</span>,<span class="dv">10000</span>)),</span>
<span id="cb113-6"><a href="exploring-spatial-inputs.html#cb113-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>Endo_H_max, <span class="at">bbox =</span> box)<span class="sc">+</span></span>
<span id="cb113-7"><a href="exploring-spatial-inputs.html#cb113-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;fixed&quot;</span>, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">700000</span>,<span class="dv">100000</span>)),    </span>
<span id="cb113-8"><a href="exploring-spatial-inputs.html#cb113-8" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>Endo_O_max, <span class="at">bbox =</span> box)<span class="sc">+</span></span>
<span id="cb113-9"><a href="exploring-spatial-inputs.html#cb113-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>())</span></code></pre></div>
<p><img src="05-Norway_spatialInputs_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>In Norway, ectotherms can get to about 6 kg. The biggest species are probably snakes.
Carnivores can grow to 40 kg. About right for a wolf. Bears are omnivores. They can grow to 200 kg in Norway. Pure herbivores are allowed to grow to about 500 kg.</p>
<p>The data make sense, also for Norway. One could discuss I it’s correct to treat large carnivores as functionally extinct.</p>
<h3>
Net Primary Productivity
</h3>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="exploring-spatial-inputs.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(</span>
<span id="cb114-2"><a href="exploring-spatial-inputs.html#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>terrestrial_net_primary_productivity[[<span class="dv">1</span>]], <span class="at">bbox =</span> box)<span class="sc">+</span></span>
<span id="cb114-3"><a href="exploring-spatial-inputs.html#cb114-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>()</span>
<span id="cb114-4"><a href="exploring-spatial-inputs.html#cb114-4" aria-hidden="true" tabindex="-1"></a>,</span>
<span id="cb114-5"><a href="exploring-spatial-inputs.html#cb114-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(sptl_inp<span class="sc">$</span>terrestrial_net_primary_productivity[[<span class="dv">7</span>]], <span class="at">bbox =</span> box)<span class="sc">+</span></span>
<span id="cb114-6"><a href="exploring-spatial-inputs.html#cb114-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>()</span>
<span id="cb114-7"><a href="exploring-spatial-inputs.html#cb114-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="05-Norway_spatialInputs_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>NPP for January to the left and july to the right. NPP is zero in winter, which is good.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="norway---default-settings.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="trophic-pyramids.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
