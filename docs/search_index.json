[["index.html", "Runniging the Madingley Model with Norwegian data Chapter 1 Introduction 1.1 Some useful links 1.2 Terms and definitions", " Runniging the Madingley Model with Norwegian data Anders L. Kolstad 2021-12-14 Chapter 1 Introduction This work is part of the MadFates project, run by Joachim Töpper. The goal is to learn bit about the Madinley model and its potential for modelling biomass distributions across trophic levels in Norwegian boreal ecosystem. Perhaps limited to forests. This page is hosted in GitHub and produced using bookdown. 1.1 Some useful links Paper on the R package Paper on the model itself 1.1.1 Examples of use Removing carnivores Land-use change 1.2 Terms and definitions Cohorts - Organisms with similar functional roles are grouped into cohorts which are treated as sinle entities in the model to reduce computational requirements. Stock - autotrofic biomass is treated as a single entity (stock). Model initialisation - After loading input data the model is run once without a year parameter. Not sure why exactly, or what the output is. Spin-up phase - The model needs to run for 100-1000 simulated years without any user modifications to allow the ecosystem componets to reach a stable state. "],["installation.html", "Chapter 2 Installation", " Chapter 2 Installation Madingley is written in C++, but an R version is also available. Although a little bit less flexible perhaps, it should be more than sufficient four this project. And much more familiar. library(devtools) install_github(&#39;MadingleyR/MadingleyR&#39;, subdir=&#39;Package&#39;, build_vignettes = T, force = T) I could not get the vignettes to build. It crashed on line 52 in Madinley.Rmd with this function call: MadingleyR::madingley_version() Error message: ./madingley: /lib/x86_64-linux-gnu/libm.so.6: version `GLIBC_2.29’ not found (required by ./madingley) running command ‘cd “/home/NINA.NO/anders.kolstad/R/x86_64-pc-linux-gnu-library/4.0/MadingleyR/lin_exec/” &amp;&amp; ./madingley version’ had status 1Error in x[[jj]][iseq] &lt;- vjj : replacement has length zero This tells us that R cannot fint GLIBC vignette(package =&quot;MadingleyR&quot;) ## no vignettes found They can, however, be view here. This line also did not work. The verdsion seems to be 1.0.2. Source version, I don’t know. "],["step-1-2.html", "Chapter 3 Step 1 &amp; 2 3.1 Load data 3.2 Initialisation", " Chapter 3 Step 1 &amp; 2 3.1 Load data Spatial model domain = c(min_long, max_long, min_lat, max_lat) spatial_window = c(31, 35, -5, -1) Plot the spatial window to check selection plot_spatialwindow(spatial_window) Using default data to initialise the model. The spatial inputs is a relatively big list of raster files, but the others are small data frames. sptl_inp = madingley_inputs(&quot;spatial inputs&quot;) chrt_def = madingley_inputs(&quot;cohort definition&quot;) stck_def = madingley_inputs(&quot;stock definition&quot;) mdl_prms = madingley_inputs(&quot;model parameters&quot;) # useful later for running the model The Spatial Input is the environmental variables in the form of several raster layers. I think the 12 slots are months of a year. str(sptl_inp,2) ## List of 13 ## $ realm_classification :Formal class &#39;RasterLayer&#39; [package &quot;raster&quot;] with 12 slots ## $ land_mask :Formal class &#39;RasterLayer&#39; [package &quot;raster&quot;] with 12 slots ## $ hanpp :Formal class &#39;RasterLayer&#39; [package &quot;raster&quot;] with 12 slots ## $ available_water_capacity :Formal class &#39;RasterLayer&#39; [package &quot;raster&quot;] with 12 slots ## $ Ecto_max :Formal class &#39;RasterLayer&#39; [package &quot;raster&quot;] with 12 slots ## $ Endo_C_max :Formal class &#39;RasterLayer&#39; [package &quot;raster&quot;] with 12 slots ## $ Endo_H_max :Formal class &#39;RasterLayer&#39; [package &quot;raster&quot;] with 12 slots ## $ Endo_O_max :Formal class &#39;RasterLayer&#39; [package &quot;raster&quot;] with 12 slots ## $ terrestrial_net_primary_productivity:Formal class &#39;RasterBrick&#39; [package &quot;raster&quot;] with 12 slots ## $ near-surface_temperature :Formal class &#39;RasterBrick&#39; [package &quot;raster&quot;] with 12 slots ## $ precipitation :Formal class &#39;RasterBrick&#39; [package &quot;raster&quot;] with 12 slots ## $ ground_frost_frequency :Formal class &#39;RasterBrick&#39; [package &quot;raster&quot;] with 12 slots ## $ diurnal_temperature_range :Formal class &#39;RasterBrick&#39; [package &quot;raster&quot;] with 12 slots The cohort definitions look like this, and can be modified by the user. DT::datatable(chrt_def, extensions = &quot;FixedColumns&quot;, options = list( scrollX = TRUE, scrollY=T, pageLength = 10)) The stock definitions are in the default input data limited to evergreen and deciduous plants. DT::datatable(stck_def, extensions = &quot;FixedColumns&quot;, options = list( scrollX = TRUE, scrollY=T, pageLength = 10)) The model parameters are perhaps a bit more cryptic: DT::datatable(mdl_prms, extensions = &quot;FixedColumns&quot;, options = list( scrollX = TRUE, scrollY=T, pageLength = 20)) They are divided into 12 categories: cat(unique(mdl_prms$category), sep=&quot;\\n&quot;) ## Activity ## Diffusive Dispersal ## Responsive Dispersal ## Eating Carnivory ## Eating Omnivory ## Eating Herbivory ## Metabolism Ectotherm ## Metabolism Endotherm ## Metabolism Heterotroph ## Mortality ## Reproduction ## Terrestrial Carbon 3.2 Initialisation Model initialisation is done using madingley_init() by supplying the input data above (excl. model parameters). Also one can set the maximum number of cohors allowed per cell. The default is 500 and max is 1000. a higher number increases computation time due to more cohort interactions. mdata = madingley_init(spatial_window = spatial_window, cohort_def = chrt_def, stock_def = stck_def, spatial_inputs = sptl_inp, max_cohort = 50) This throws an error: ./madingley: /lib/x86_64-linux-gnu/libm.so.6: version GLIBC_2.29 not found (required by ./madingley) cannot open file /tmp/RtmpEF9AGw/madingley_outs_14_12_21_13_39_45/cohort_properties/FullCohortProperties_99999.csv: No such file or directoryError in file(file, \"rt\") : cannot open the connection "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
